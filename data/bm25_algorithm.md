# BM25 算法简介

BM25（Best Match 25）是一种在信息检索领域广泛使用的**关键词加权算法**，用于对文档与用户查询的相关性进行评分。它是TF-IDF模型的经典扩展，并在其基础上引入了两个关键的超参数来解决TF-IDF的一些局限性。

## 核心思想

BM25的核心思想可以概括为以下几点：

1.  **词频饱和度 (Term Frequency Saturation)**:
    -   TF-IDF认为一个词在文档中出现的次数越多，该词就越重要，这是一个线性增长关系。
    -   然而，BM25认为词频的重要性存在一个“饱和点”。例如，一个词从出现1次增加到10次，其重要性会显著提升；但从100次增加到110次，其重要性的提升就微乎其微了。
    -   BM25使用一个超参数 `k1` 来控制词频饱和度的增长速度。`k1` 值越小，饱和得越快。

2.  **文档长度归一化 (Document Length Normalization)**:
    -   一篇长文档自然比短文档更容易包含更多的查询词，TF-IDF可能会因此偏向于长文档。
    -   BM25引入了另一个超参数 `b` (取值范围在 0 到 1 之间)，用于控制文档长度对评分的影响程度。
    -   当 `b=0` 时，完全不考虑文档长度的影响；当 `b=1` 时，则完全用文档长度来归一化词频。通常 `b` 的推荐值为 `0.75`。

## 优势

-   **效果优秀**: 在大多数文本检索任务中，BM25的效果通常优于传统的TF-IDF。
-   **实现简单**: 算法本身不复杂，易于理解和实现。
-   **计算高效**: 相对于深度学习模型，BM25的索引构建和查询速度都非常快。

因此，BM25经常被用作向量检索的补充，构成“混合检索”系统，以结合关键词匹配和语义相似度的优点。